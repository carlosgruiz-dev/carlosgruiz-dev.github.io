<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Introduccion a ZODB | Carlos Gustavo Ruiz</title>
<meta name=keywords content="lab,guides,python,databases,spanish">
<meta name=description content="En concreto ZODB (Zope Object Data Base) es un gestor de bases de datos
orientado a objetos. Esto significa para el usuario nuevo en esta
tecnología que a diferencia de las bases de datos de uso mas frecuente
en ZODB no hallará tablas ni esquemas ni nada parecido, así mismo no
encontrará sentencias SQL en pues el lenguaje de consulta e indexado es
Python.">
<meta name=author content>
<link rel=canonical href=http://carlosgruiz-dev.github.io/blog/breve-introduccion-a-zodb/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://carlosgruiz-dev.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://carlosgruiz-dev.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://carlosgruiz-dev.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=http://carlosgruiz-dev.github.io/apple-touch-icon.png>
<link rel=mask-icon href=http://carlosgruiz-dev.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Introduccion a ZODB">
<meta property="og:description" content="En concreto ZODB (Zope Object Data Base) es un gestor de bases de datos
orientado a objetos. Esto significa para el usuario nuevo en esta
tecnología que a diferencia de las bases de datos de uso mas frecuente
en ZODB no hallará tablas ni esquemas ni nada parecido, así mismo no
encontrará sentencias SQL en pues el lenguaje de consulta e indexado es
Python.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://carlosgruiz-dev.github.io/blog/breve-introduccion-a-zodb/"><meta property="article:section" content="blog">
<meta property="article:published_time" content="2013-07-26T19:31:00-04:00">
<meta property="article:modified_time" content="2015-03-04T20:00:00-04:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Introduccion a ZODB">
<meta name=twitter:description content="En concreto ZODB (Zope Object Data Base) es un gestor de bases de datos
orientado a objetos. Esto significa para el usuario nuevo en esta
tecnología que a diferencia de las bases de datos de uso mas frecuente
en ZODB no hallará tablas ni esquemas ni nada parecido, así mismo no
encontrará sentencias SQL en pues el lenguaje de consulta e indexado es
Python.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog","item":"http://carlosgruiz-dev.github.io/blog/"},{"@type":"ListItem","position":2,"name":"Introduccion a ZODB","item":"http://carlosgruiz-dev.github.io/blog/breve-introduccion-a-zodb/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Introduccion a ZODB","name":"Introduccion a ZODB","description":"En concreto ZODB (Zope Object Data Base) es un gestor de bases de datos orientado a objetos. Esto significa para el usuario nuevo en esta tecnología que a diferencia de las bases de datos de uso mas frecuente en ZODB no hallará tablas ni esquemas ni nada parecido, así mismo no encontrará sentencias SQL en pues el lenguaje de consulta e indexado es Python.\n","keywords":["lab","guides","python","databases","spanish"],"articleBody":"En concreto ZODB (Zope Object Data Base) es un gestor de bases de datos orientado a objetos. Esto significa para el usuario nuevo en esta tecnología que a diferencia de las bases de datos de uso mas frecuente en ZODB no hallará tablas ni esquemas ni nada parecido, así mismo no encontrará sentencias SQL en pues el lenguaje de consulta e indexado es Python.\nInstalación Instalar ZODB en su computador es bastante sencillo, en caso de tener instalado Fedora Linux deberá escribir el siguiente comando $ su -c \"yum install python-ZODB\" y en caso de tener Debian Linux sustituir el comando anterior por este $ su -c \"aptitude install python-zodb\". Si es programador python probablemente prefiera realizar la instalación en un entorno virtual (virtualenv). Nótese que requerirá tener instalado un compilador como gcc para compilar ZOBD en este proceso. En este caso la instrucción será:\n$ virtualenv --no-site-packages env $ source env/bin/activate (env) $ pip install ZODB3 ... ... (chum chum chum) ... ... (env) $ ZODB desde el intérprete de Python Una vez instalado comenzar a utilizar ZODB es bastante directo. Se incorporan los paquetes necesarios, definimos una fuente de datos, establecemos una conexión, buscamos la raíz de la Base de Datos y listo. ZODB funciona entonces como una Base de Datos de llave-valor de objetos python. Veamos un ejemplo:\n # llamado a los paquetes   from ZODB import DB, FileStorage  import transaction   # se define la fuente física donde se encuentran los datos  almacen = FileStorage.FileStorage(\"Datos.fs\")  bd = BD(almacen)  con = bd.open()  r = con.root()   # ahora a guardar información   r['saludo'] = 'Hola ZODB'  r['numero'] = 3 + 7j  r['lista'] = [1, 3, 5.987, True, 'texto']   # para ver las llaves que tenemos almacenadas  r.keys() ['lista', 'saludo', 'numero']   # almacenamos los cambios en el archivo de almacén  transaction.commit()   # cerramos la conexión.  transaction.get()  transaction.abort()  con.close()  bd.close()  almacen.close() Programa Simple Una lista de cosas pendientes (ToDo List) es un buen ejemplo de cómo podemos aprovechar esta base de datos. Acá una aproximación algo rústica utilizando ZODB como una base de datos de llave-valor (key-value). Creamos una clase que se encargue de manejar la conexión con el archivo de datos y operaciones de agregar, listar y borrar tareas. Seguidamente nos encargamos de manejar los argumentos de líneas de comandos y listo, tenemos nuestro pequeño programa de lista de cosas pendientes. Vea el código fuente:\n# -*- coding: utf-8 -*- from ZODB import (DB, FileStorage) import transaction import argparse class ToDo: def __init__(self): self.store = FileStorage.FileStorage(\"ToDo.fs\") self.database = DB(self.store) self.connection = self.database.open() self.root = self.connection.root() def __enter__(self): return self def __exit__(self, type, value, traceback): transaction.get() transaction.abort() self.connection.close() self.database.close() self.store.close() def add(self, key, value): if key != \"\": self.root[key] = value transaction.commit() print(\"New task added..\") else: print(\"A task must have a name\") def list(self): print(\"Tasks To Do..\") for k in self.root.keys(): print(\"%s\\t%s\" % (k, self.root[k])) def delete(self, key): if key in self.root.keys(): del(self.root[key]) transaction.commit() print(\"Task deleted..\") else: print(\"There is no task '%s'..\" % key) if __name__ == \"__main__\": parser = argparse.ArgumentParser() parser.add_argument('-a', '--add', nargs=2, help=\"add a tast to the ToDo list\") parser.add_argument('-d', '--delete', nargs=1, help=\"delete a task from the ToDo list\") args = parser.parse_args() tasks = ToDo() if args.add: tasks.add(args.add[0],args.add[1]) elif args.delete: tasks.delete(args.delete[0]) else: tasks.list() Su modo de uso es:\n$ python todo.py -h usage: todo.py [-h] [-a ADD ADD] [-d DELETE] optional arguments: -h, --help show this help message and exit -a ADD ADD, --add ADD ADD add a tast to the ToDo list -d DELETE, --delete DELETE delete a task from the ToDo list Para agregar una tarea escriba:\n$ python todo.py -a \"Completar Artículo\" \"atmantree: Breve Introducción a ZODB\" New task added.. $ Para ver las tareas pendientes:\n$ python todo.py Tasks To Do.. Completar Artículo atmantree: Breve Introducción a ZODB Comprar Pan, Jamón y Leche Llamar al veterinario Vacunas de Rahula $ ZODB como Base de Datos Orientada a Objetos Ahora bien, como se puede sospechar utilizar una base de datos como ZODB para un programa como el anterior puede ser considerado como matar moscas con una bazuca. Sin embargo la potencia de ZODB está en su capacidad de almacenar directamente en una base de datos cualquier objeto o tipo de datos existente en Python. En particular almacenar directamente objetos definidos por el programador.\nEl diseño de una aplicación es un tema complejo y los escenarios son muy variados. Tal vez alguien quiera crear clases del tipo contenedoras, o tal vez prefiera agregarlas a la raíz del sistema de persistencia (ZODB en este caso) o simplemente manejarlo a través de una lista de objetos de algún tipo, las decisiones de diseño dependerán del contexto y el espacio de problema donde se inscriba la aplicación.\nA efecto del ejemplo se modificará levemente el programa anterior, convertirán las tareas en objetos de la clase Task y se almacenarán en una lista.\n# -*- coding: utf-8 -*- from ZODB import (DB, FileStorage) from persistent import Persistent import transaction import argparse class Task(Persistent): def __init__(self): self.name = \"\" self.description = \"\" class ToDo: def __init__(self): self.store = FileStorage.FileStorage(\"ToDo2.fs\") self.database = DB(self.store) self.connection = self.database.open() self.root = self.connection.root() if not 'Tasks' in self.root: self.root['Tasks'] = [] self.tasks = self.root['Tasks'] def __enter__(self): return self def __exit__(self, type, value, traceback): transaction.get() transaction.abort() self.connection.close() self.database.close() self.store.close() def add(self, name, description): if name != \"\": new_task = Task() new_task.name = name new_task.description = description self.tasks.append(new_task) self.root['Tasks'] = self.tasks transaction.commit() print(\"New task added..\") else: print(\"Tasks must have a name\") def list(self): if len(self.tasks)  0: print(\"Tasks To Do..\") for task in self.tasks: print(\"%s\\t%s\" %(task.name, task.description)) else: print(\"No pending tasks..\") def delete(self, name): for i in range(len(self.tasks)): deleted = False if self.tasks[i].name == name: del(self.tasks[i]) deleted = True if deleted: self.root['Tasks'] = self.tasks transaction.commit() print(\"Task deleted..\") else: print(\"There is no task '%s'..\" % name) if __name__ == \"__main__\": parser = argparse.ArgumentParser() parser.add_argument('-a', '--add', nargs=2, help=\"add a tast to the ToDo list\") parser.add_argument('-d', '--delete', nargs=1, help=\"delete a task from the ToDo list\") args = parser.parse_args() tasks = ToDo() if args.add: tasks.add(args.add[0],args.add[1]) elif args.delete: tasks.delete(args.delete[0]) else: tasks.list() En general es el mismo programa, sin embargo las posibilidades aumentan a partir de acá aprovechando los métodos y opciones que da la superclase Persistent. En adelante lo que queda es invitarles a experimentar, probar y utilizar ZODB.\nOtros temas sobre ZODB ZODB vs ORM Los Mapeadores Objeto-Relacionales (ORM) suelen ser una alternativa frecuente en esto de lidiar con objetos dentro de la base de datos, sin embargo no siempre es un camino de rosas pues se realizan algunas de concesiones de diseño en el proceso. Generalmente se termina ajustando el diseño al uso del ORM, asumiendo en los costes asociados al mapeo en el rendimiento de la aplicación. Al final es un tema de contexto, decisiones de diseño y métricas de desempeño.\nOtros almacenes de ZODB ZODB permite el uso de diversos tipos de almacenes de datos. Como vimos en los ejemplos almacenamos los datos en un archivo, sin embargo esta aproximación tiene la limitante que solo un proceso de Python puede acceder a los datos. Es por ello que se creó una solución llamada ZEO para lidiar con este escenario, permitiendo escalar a una solución en la cual muchas conexiones y procesos puedan acceder aun un punto de acceso a un archivo de ZODB.\nOtro almacén de datos es RelStorage, este permite guardar dentro de una Base de Datos Relacional como PostgreSQL o MySQL los objetos Python manejados por un programa. En tal sentido esta solución aprovecha las capacidades de replicación de estos gestores de bases de datos. Está diseñado para aplicaciones de alta demanda y en algunas pruebas obtiene mejores resultados en escenarios de alta concurrencia que la solución típica de ZODB + ZEO.\nTal vez desee utilizar una estructura de directorios para almacenar sus objetos. Si ese es el caso puede utilizar DirectoryStorage. Su simplicidad en cuanto a mecanismo de almacenamiento garantiza que es una solución a prueba de desastres. Tiene herramientas curiosas como manejo de réplicas, firmas md5 de los distintos archivos, así como la posibilidad de trabajar a modo de solo lectura o Snapshots para mantener la consistencia de los datos originales en un momento determinado del sistema.\nFinalmente podemos utilizar ZODB de forma similar a SQLite en cuanto a crear una base de datos en memoria, en tal sentido puede usar los almacenes DemoStorage y MappingStorage que le vendrán muy bien para tareas de pruebas o migración de datos.\nVisores Gráficos de una Base de Datos En general siempre se agradece la posibilidad de contar con una herramienta gráfica que permita conocer los datos almacenados dentro de un gestor de bases de datos. Sin embargo esta tarea puede ser un poco críptica para personas habituadas a tratar con bases de datos relacionales, pues no existen tablas, estructuras o lenguaje SQL que aplicar. Se está en un espacio completamente lleno de Python. Al momento de escribir este artículo probé eye que me pareció sencillo y bueno para ver el contenido de un archivo, sin embargo existen foros que recomiendan el uso de zodbbrowser (basado en Zope 3).\nPara usar eye escriba:\n$ eye (suBDdeZODB).fs serving on http://127.0.0.1:8080 Visite la dirección http://127.0.0.1:8080/ y podrá detallar el contenido de su base de datos:\nPara Más Información La documentación de ZODB en realidad es bastante simple, no tiene muchos lugares oscuros por lo que una búsqueda en la web le podrá arrojar uno que otro manual o tutorial adicional. Sin embargo con los siguientes links podrá avanzar sin problemas:\n http://www.zodb.org/ http://zodb.readthedocs.org/en/latest/index.html http://es.slideshare.net/carlos.delaguardia/zodb-tips-and-tricks http://www.upfrontsystems.co.za/Members/roche/where-im-calling-from/zodb-benchmarks-revisited  El código fuente de este artículo se encuentra en github.\n","wordCount":"1608","inLanguage":"en","datePublished":"2013-07-26T19:31:00-04:00","dateModified":"2015-03-04T20:00:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://carlosgruiz-dev.github.io/blog/breve-introduccion-a-zodb/"},"publisher":{"@type":"Organization","name":"Carlos Gustavo Ruiz","logo":{"@type":"ImageObject","url":"http://carlosgruiz-dev.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://carlosgruiz-dev.github.io/ accesskey=h title="Carlos Gustavo Ruiz (Alt + H)">Carlos Gustavo Ruiz</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=http://carlosgruiz-dev.github.io/blog/ title=blog>
<span>blog</span>
</a>
</li>
<li>
<a href=https://github.com/carlosgruiz-dev/carlosgruiz-dev/wiki title=wiki>
<span>wiki</span>
</a>
</li>
<li>
<a href=http://carlosgruiz-dev.github.io/talks/ title=talks>
<span>talks</span>
</a>
</li>
<li>
<a href=http://carlosgruiz-dev.github.io/bookmarks/ title=bookmarks>
<span>bookmarks</span>
</a>
</li>
<li>
<a href=http://carlosgruiz-dev.github.io/now/ title=now>
<span>now</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Introduccion a ZODB
</h1>
<div class=post-meta><span title="2013-07-26 19:31:00 -0400 -0400">July 26, 2013</span>
</div>
</header>
<div class=post-content><p>En concreto ZODB (Zope Object Data Base) es un gestor de bases de datos
orientado a objetos. Esto significa para el usuario nuevo en esta
tecnología que a diferencia de las bases de datos de uso mas frecuente
en ZODB no hallará tablas ni esquemas ni nada parecido, así mismo no
encontrará sentencias SQL en pues el lenguaje de consulta e indexado es
Python.</p>
<h2 id=instalación>Instalación<a hidden class=anchor aria-hidden=true href=#instalación>#</a></h2>
<p>Instalar ZODB en su computador es bastante sencillo, en caso de tener
instalado <a href=http://fedoraproject.org/>Fedora Linux</a> deberá escribir el
siguiente comando <code>$ su -c "yum install python-ZODB"</code> y en caso de
tener <a href=http://www.debian.org/>Debian Linux</a> sustituir el comando
anterior por este <code>$ su -c "aptitude install python-zodb"</code>. Si es
programador python probablemente prefiera realizar la instalación en un
entorno virtual (virtualenv). Nótese que requerirá tener instalado un
compilador como gcc para compilar ZOBD en este proceso. En este caso la
instrucción será:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ virtualenv --no-site-packages env
$ source env/bin/activate
<span style=color:#f92672>(</span>env<span style=color:#f92672>)</span> $ pip install ZODB3
...
... <span style=color:#f92672>(</span>chum chum chum<span style=color:#f92672>)</span> ...
...
<span style=color:#f92672>(</span>env<span style=color:#f92672>)</span> $
</code></pre></div><h2 id=zodb-desde-el-intérprete-de-python>ZODB desde el intérprete de Python<a hidden class=anchor aria-hidden=true href=#zodb-desde-el-intérprete-de-python>#</a></h2>
<p>Una vez instalado comenzar a utilizar ZODB es bastante directo. Se
incorporan los paquetes necesarios, definimos una fuente de datos,
establecemos una conexión, buscamos la raíz de la Base de Datos y listo.
ZODB funciona entonces como una Base de Datos de llave-valor de objetos
python. Veamos un ejemplo:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#75715e># llamado a los paquetes </span>
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>from</span> ZODB <span style=color:#f92672>import</span> DB, FileStorage
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>import</span> transaction
<span style=color:#f92672>&gt;&gt;&gt;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#75715e># se define la fuente física donde se encuentran los datos</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> almacen <span style=color:#f92672>=</span> FileStorage<span style=color:#f92672>.</span>FileStorage(<span style=color:#e6db74>&#34;Datos.fs&#34;</span>)
<span style=color:#f92672>&gt;&gt;&gt;</span> bd <span style=color:#f92672>=</span> BD(almacen)
<span style=color:#f92672>&gt;&gt;&gt;</span> con <span style=color:#f92672>=</span> bd<span style=color:#f92672>.</span>open()
<span style=color:#f92672>&gt;&gt;&gt;</span> r <span style=color:#f92672>=</span> con<span style=color:#f92672>.</span>root()
<span style=color:#f92672>&gt;&gt;&gt;</span> 
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#75715e># ahora a guardar información  </span>
<span style=color:#f92672>&gt;&gt;&gt;</span> r[<span style=color:#e6db74>&#39;saludo&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Hola ZODB&#39;</span> 
<span style=color:#f92672>&gt;&gt;&gt;</span> r[<span style=color:#e6db74>&#39;numero&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>7</span>j
<span style=color:#f92672>&gt;&gt;&gt;</span> r[<span style=color:#e6db74>&#39;lista&#39;</span>] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>5.987</span>, <span style=color:#66d9ef>True</span>, <span style=color:#e6db74>&#39;texto&#39;</span>]
<span style=color:#f92672>&gt;&gt;&gt;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#75715e># para ver las llaves que tenemos almacenadas</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> r<span style=color:#f92672>.</span>keys()
[<span style=color:#e6db74>&#39;lista&#39;</span>, <span style=color:#e6db74>&#39;saludo&#39;</span>, <span style=color:#e6db74>&#39;numero&#39;</span>]
<span style=color:#f92672>&gt;&gt;&gt;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#75715e># almacenamos los cambios en el archivo de almacén</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> transaction<span style=color:#f92672>.</span>commit()
<span style=color:#f92672>&gt;&gt;&gt;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#75715e># cerramos la conexión.</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> transaction<span style=color:#f92672>.</span>get()
<span style=color:#f92672>&gt;&gt;&gt;</span> transaction<span style=color:#f92672>.</span>abort()
<span style=color:#f92672>&gt;&gt;&gt;</span> con<span style=color:#f92672>.</span>close()
<span style=color:#f92672>&gt;&gt;&gt;</span> bd<span style=color:#f92672>.</span>close()
<span style=color:#f92672>&gt;&gt;&gt;</span> almacen<span style=color:#f92672>.</span>close()
</code></pre></div><h2 id=programa-simple>Programa Simple<a hidden class=anchor aria-hidden=true href=#programa-simple>#</a></h2>
<p>Una lista de cosas pendientes (ToDo List) es un buen ejemplo de cómo
podemos aprovechar esta base de datos. Acá una aproximación algo rústica
utilizando ZODB como una base de datos de llave-valor (key-value).
Creamos una clase que se encargue de manejar la conexión con el archivo
de datos y operaciones de agregar, listar y borrar tareas. Seguidamente
nos encargamos de manejar los argumentos de líneas de comandos y listo,
tenemos nuestro pequeño programa de lista de cosas pendientes. Vea el
código fuente:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># -*- coding: utf-8 -*-</span>

<span style=color:#f92672>from</span> ZODB <span style=color:#f92672>import</span> (DB, FileStorage)
<span style=color:#f92672>import</span> transaction
<span style=color:#f92672>import</span> argparse

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ToDo</span>:
    <span style=color:#66d9ef>def</span> __init__(self):
        self<span style=color:#f92672>.</span>store <span style=color:#f92672>=</span> FileStorage<span style=color:#f92672>.</span>FileStorage(<span style=color:#e6db74>&#34;ToDo.fs&#34;</span>)
        self<span style=color:#f92672>.</span>database <span style=color:#f92672>=</span> DB(self<span style=color:#f92672>.</span>store)
        self<span style=color:#f92672>.</span>connection <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>database<span style=color:#f92672>.</span>open()
        self<span style=color:#f92672>.</span>root <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>connection<span style=color:#f92672>.</span>root()

    <span style=color:#66d9ef>def</span> __enter__(self):
        <span style=color:#66d9ef>return</span> self

    <span style=color:#66d9ef>def</span> __exit__(self, type, value, traceback):
        transaction<span style=color:#f92672>.</span>get()
        transaction<span style=color:#f92672>.</span>abort()
        self<span style=color:#f92672>.</span>connection<span style=color:#f92672>.</span>close()
        self<span style=color:#f92672>.</span>database<span style=color:#f92672>.</span>close()
        self<span style=color:#f92672>.</span>store<span style=color:#f92672>.</span>close()

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add</span>(self, key, value):
        <span style=color:#66d9ef>if</span> key <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;&#34;</span>:
            self<span style=color:#f92672>.</span>root[key] <span style=color:#f92672>=</span> value
            transaction<span style=color:#f92672>.</span>commit()
            print(<span style=color:#e6db74>&#34;New task added..&#34;</span>)
        <span style=color:#66d9ef>else</span>:
            print(<span style=color:#e6db74>&#34;A task must have a name&#34;</span>)

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>list</span>(self):
        print(<span style=color:#e6db74>&#34;Tasks To Do..&#34;</span>)
        <span style=color:#66d9ef>for</span> k <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>root<span style=color:#f92672>.</span>keys():
            print(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%s</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>%</span> (k, self<span style=color:#f92672>.</span>root[k]))

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>delete</span>(self, key):
        <span style=color:#66d9ef>if</span> key <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>root<span style=color:#f92672>.</span>keys():
            <span style=color:#66d9ef>del</span>(self<span style=color:#f92672>.</span>root[key])
            transaction<span style=color:#f92672>.</span>commit()
            print(<span style=color:#e6db74>&#34;Task deleted..&#34;</span>)
        <span style=color:#66d9ef>else</span>:
            print(<span style=color:#e6db74>&#34;There is no task &#39;</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#39;..&#34;</span> <span style=color:#f92672>%</span> key)

<span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
    parser <span style=color:#f92672>=</span> argparse<span style=color:#f92672>.</span>ArgumentParser()
    parser<span style=color:#f92672>.</span>add_argument(<span style=color:#e6db74>&#39;-a&#39;</span>, <span style=color:#e6db74>&#39;--add&#39;</span>, nargs<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, help<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;add a tast to the ToDo list&#34;</span>)
    parser<span style=color:#f92672>.</span>add_argument(<span style=color:#e6db74>&#39;-d&#39;</span>, <span style=color:#e6db74>&#39;--delete&#39;</span>, nargs<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, help<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;delete a task from the ToDo list&#34;</span>)
    args <span style=color:#f92672>=</span> parser<span style=color:#f92672>.</span>parse_args()
    tasks <span style=color:#f92672>=</span> ToDo()
    <span style=color:#66d9ef>if</span> args<span style=color:#f92672>.</span>add:
        tasks<span style=color:#f92672>.</span>add(args<span style=color:#f92672>.</span>add[<span style=color:#ae81ff>0</span>],args<span style=color:#f92672>.</span>add[<span style=color:#ae81ff>1</span>])
    <span style=color:#66d9ef>elif</span> args<span style=color:#f92672>.</span>delete:
        tasks<span style=color:#f92672>.</span>delete(args<span style=color:#f92672>.</span>delete[<span style=color:#ae81ff>0</span>])
    <span style=color:#66d9ef>else</span>:
        tasks<span style=color:#f92672>.</span>list()
</code></pre></div><p>Su modo de uso es:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ python todo.py -h
usage: todo.py <span style=color:#f92672>[</span>-h<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-a ADD ADD<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-d DELETE<span style=color:#f92672>]</span>

optional arguments:
  -h, --help            show this help message and exit
  -a ADD ADD, --add ADD ADD
                        add a tast to the ToDo list
  -d DELETE, --delete DELETE
                        delete a task from the ToDo list
</code></pre></div><p>Para agregar una tarea escriba:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ python todo.py -a <span style=color:#e6db74>&#34;Completar Artículo&#34;</span> <span style=color:#e6db74>&#34;atmantree: Breve Introducción a ZODB&#34;</span>
New task added..

$
</code></pre></div><p>Para ver las tareas pendientes:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ python todo.py
Tasks To Do..
Completar Artículo      atmantree: Breve Introducción a ZODB
Comprar Pan, Jamón y Leche
Llamar al veterinario   Vacunas de Rahula

$
</code></pre></div><h2 id=zodb-como-base-de-datos-orientada-a-objetos>ZODB como Base de Datos Orientada a Objetos<a hidden class=anchor aria-hidden=true href=#zodb-como-base-de-datos-orientada-a-objetos>#</a></h2>
<p>Ahora bien, como se puede sospechar utilizar una base de datos como ZODB
para un programa como el anterior puede ser considerado como matar
moscas con una bazuca. Sin embargo la potencia de ZODB está en su
capacidad de almacenar directamente en una base de datos cualquier
objeto o tipo de datos existente en Python. En particular almacenar
directamente objetos definidos por el programador.</p>
<p>El diseño de una aplicación es un tema complejo y los escenarios son muy
variados. Tal vez alguien quiera crear clases del tipo contenedoras, o
tal vez prefiera agregarlas a la raíz del sistema de persistencia (ZODB
en este caso) o simplemente manejarlo a través de una lista de objetos
de algún tipo, las decisiones de diseño dependerán del contexto y el
espacio de problema donde se inscriba la aplicación.</p>
<p>A efecto del ejemplo se modificará levemente el programa anterior,
convertirán las tareas en objetos de la clase Task y se almacenarán en
una lista.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># -*- coding: utf-8 -*-</span>

<span style=color:#f92672>from</span> ZODB <span style=color:#f92672>import</span> (DB, FileStorage)
<span style=color:#f92672>from</span> persistent <span style=color:#f92672>import</span> Persistent
<span style=color:#f92672>import</span> transaction
<span style=color:#f92672>import</span> argparse

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Task</span>(Persistent):
    <span style=color:#66d9ef>def</span> __init__(self):
        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
        self<span style=color:#f92672>.</span>description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ToDo</span>:
    <span style=color:#66d9ef>def</span> __init__(self):
        self<span style=color:#f92672>.</span>store <span style=color:#f92672>=</span> FileStorage<span style=color:#f92672>.</span>FileStorage(<span style=color:#e6db74>&#34;ToDo2.fs&#34;</span>)
        self<span style=color:#f92672>.</span>database <span style=color:#f92672>=</span> DB(self<span style=color:#f92672>.</span>store)
        self<span style=color:#f92672>.</span>connection <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>database<span style=color:#f92672>.</span>open()
        self<span style=color:#f92672>.</span>root <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>connection<span style=color:#f92672>.</span>root()
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> <span style=color:#e6db74>&#39;Tasks&#39;</span> <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>root:
            self<span style=color:#f92672>.</span>root[<span style=color:#e6db74>&#39;Tasks&#39;</span>] <span style=color:#f92672>=</span> []
        self<span style=color:#f92672>.</span>tasks <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>root[<span style=color:#e6db74>&#39;Tasks&#39;</span>]

    <span style=color:#66d9ef>def</span> __enter__(self):
        <span style=color:#66d9ef>return</span> self

    <span style=color:#66d9ef>def</span> __exit__(self, type, value, traceback):
        transaction<span style=color:#f92672>.</span>get()
        transaction<span style=color:#f92672>.</span>abort()
        self<span style=color:#f92672>.</span>connection<span style=color:#f92672>.</span>close()
        self<span style=color:#f92672>.</span>database<span style=color:#f92672>.</span>close()
        self<span style=color:#f92672>.</span>store<span style=color:#f92672>.</span>close()

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add</span>(self, name, description):
        <span style=color:#66d9ef>if</span> name <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;&#34;</span>:
            new_task <span style=color:#f92672>=</span> Task()
            new_task<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> name
            new_task<span style=color:#f92672>.</span>description <span style=color:#f92672>=</span> description
            self<span style=color:#f92672>.</span>tasks<span style=color:#f92672>.</span>append(new_task)
            self<span style=color:#f92672>.</span>root[<span style=color:#e6db74>&#39;Tasks&#39;</span>] <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>tasks
            transaction<span style=color:#f92672>.</span>commit()
            print(<span style=color:#e6db74>&#34;New task added..&#34;</span>)
        <span style=color:#66d9ef>else</span>:
            print(<span style=color:#e6db74>&#34;Tasks must have a name&#34;</span>)

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>list</span>(self):
        <span style=color:#66d9ef>if</span> len(self<span style=color:#f92672>.</span>tasks) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>:
            print(<span style=color:#e6db74>&#34;Tasks To Do..&#34;</span>)
            <span style=color:#66d9ef>for</span> task <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>tasks:
                print(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%s</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>%</span>(task<span style=color:#f92672>.</span>name, task<span style=color:#f92672>.</span>description))
        <span style=color:#66d9ef>else</span>:
            print(<span style=color:#e6db74>&#34;No pending tasks..&#34;</span>)

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>delete</span>(self, name):
        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(len(self<span style=color:#f92672>.</span>tasks)):
            deleted <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
            <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>tasks[i]<span style=color:#f92672>.</span>name <span style=color:#f92672>==</span> name:
                <span style=color:#66d9ef>del</span>(self<span style=color:#f92672>.</span>tasks[i])
                deleted <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
            <span style=color:#66d9ef>if</span> deleted:
                self<span style=color:#f92672>.</span>root[<span style=color:#e6db74>&#39;Tasks&#39;</span>] <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>tasks
                transaction<span style=color:#f92672>.</span>commit()
                print(<span style=color:#e6db74>&#34;Task deleted..&#34;</span>)
            <span style=color:#66d9ef>else</span>:
                print(<span style=color:#e6db74>&#34;There is no task &#39;</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#39;..&#34;</span> <span style=color:#f92672>%</span> name)

<span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
    parser <span style=color:#f92672>=</span> argparse<span style=color:#f92672>.</span>ArgumentParser()
    parser<span style=color:#f92672>.</span>add_argument(<span style=color:#e6db74>&#39;-a&#39;</span>, <span style=color:#e6db74>&#39;--add&#39;</span>, nargs<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, help<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;add a tast to the ToDo list&#34;</span>)
    parser<span style=color:#f92672>.</span>add_argument(<span style=color:#e6db74>&#39;-d&#39;</span>, <span style=color:#e6db74>&#39;--delete&#39;</span>, nargs<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, help<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;delete a task from the ToDo list&#34;</span>)
    args <span style=color:#f92672>=</span> parser<span style=color:#f92672>.</span>parse_args()
    tasks <span style=color:#f92672>=</span> ToDo()
    <span style=color:#66d9ef>if</span> args<span style=color:#f92672>.</span>add:
        tasks<span style=color:#f92672>.</span>add(args<span style=color:#f92672>.</span>add[<span style=color:#ae81ff>0</span>],args<span style=color:#f92672>.</span>add[<span style=color:#ae81ff>1</span>])
    <span style=color:#66d9ef>elif</span> args<span style=color:#f92672>.</span>delete:
        tasks<span style=color:#f92672>.</span>delete(args<span style=color:#f92672>.</span>delete[<span style=color:#ae81ff>0</span>])
    <span style=color:#66d9ef>else</span>:
        tasks<span style=color:#f92672>.</span>list()
</code></pre></div><p>En general es el mismo programa, sin embargo las posibilidades aumentan
a partir de acá aprovechando los métodos y opciones que da la superclase
<strong>Persistent</strong>. En adelante lo que queda es invitarles a experimentar,
probar y utilizar ZODB.</p>
<h2 id=otros-temas-sobre-zodb>Otros temas sobre ZODB<a hidden class=anchor aria-hidden=true href=#otros-temas-sobre-zodb>#</a></h2>
<h3 id=zodb-vs-orm>ZODB vs ORM<a hidden class=anchor aria-hidden=true href=#zodb-vs-orm>#</a></h3>
<p>Los Mapeadores Objeto-Relacionales
(<a href=http://es.wikipedia.org/wiki/Mapeo_objeto-relacional>ORM</a>) suelen ser
una alternativa frecuente en esto de lidiar con objetos dentro de la
base de datos, sin embargo no siempre es un camino de rosas pues se
realizan algunas de concesiones de diseño en el proceso. Generalmente se
termina ajustando el diseño al uso del ORM, asumiendo en los costes
asociados al mapeo en el rendimiento de la aplicación. Al final es un
tema de contexto, decisiones de diseño y métricas de desempeño.</p>
<h3 id=otros-almacenes-de-zodb>Otros almacenes de ZODB<a hidden class=anchor aria-hidden=true href=#otros-almacenes-de-zodb>#</a></h3>
<p>ZODB permite el uso de diversos tipos de almacenes de datos. Como vimos
en los ejemplos almacenamos los datos en un archivo, sin embargo esta
aproximación tiene la limitante que solo un proceso de Python puede
acceder a los datos. Es por ello que se creó una solución llamada
<a href=http://www.zodb.org/en/latest/documentation/guide/zeo.html>ZEO</a> para
lidiar con este escenario, permitiendo escalar a una solución en la cual
muchas conexiones y procesos puedan acceder aun un punto de acceso a un
archivo de ZODB.</p>
<p>Otro almacén de datos es
<a href=https://pypi.python.org/pypi/RelStorage>RelStorage</a>, este permite
guardar dentro de una Base de Datos Relacional como PostgreSQL o MySQL
los objetos Python manejados por un programa. En tal sentido esta
solución aprovecha las capacidades de replicación de estos gestores de
bases de datos. Está diseñado para aplicaciones de alta demanda y en
algunas pruebas obtiene mejores resultados en escenarios de alta
concurrencia que la solución típica de ZODB + ZEO.</p>
<p>Tal vez desee utilizar una estructura de directorios para almacenar sus
objetos. Si ese es el caso puede utilizar
<a href=http://dirstorage.sourceforge.net/>DirectoryStorage</a>. Su simplicidad
en cuanto a mecanismo de almacenamiento garantiza que es una solución a
prueba de desastres. Tiene herramientas curiosas como manejo de
réplicas, firmas md5 de los distintos archivos, así como la posibilidad
de trabajar a modo de solo lectura o
<a href=http://en.wikipedia.org/wiki/Snapshot_(computer_storage)>Snapshots</a>
para mantener la consistencia de los datos originales en un momento
determinado del sistema.</p>
<p>Finalmente podemos utilizar ZODB de forma similar a SQLite en cuanto a
crear una base de datos en memoria, en tal sentido puede usar los
almacenes <a href=http://zodb.readthedocs.org/en/latest/api.html#in-memory-for-testing>DemoStorage y
MappingStorage</a>
que le vendrán muy bien para tareas de pruebas o <a href=http://www.andreas-jung.com/contents/using-zodb-demostorage-for-migration-testing>migración de
datos</a>.</p>
<h3 id=visores-gráficos-de-una-base-de-datos>Visores Gráficos de una Base de Datos<a hidden class=anchor aria-hidden=true href=#visores-gráficos-de-una-base-de-datos>#</a></h3>
<p>En general siempre se agradece la posibilidad de contar con una
herramienta gráfica que permita conocer los datos almacenados dentro de
un gestor de bases de datos. Sin embargo esta tarea puede ser un poco
críptica para personas habituadas a tratar con bases de datos
relacionales, pues no existen tablas, estructuras o lenguaje SQL que
aplicar. Se está en un espacio completamente lleno de Python. Al momento
de escribir este artículo probé <a href=https://github.com/davisagli/eye>eye</a>
que me pareció sencillo y bueno para ver el contenido de un archivo, sin
embargo existen foros que recomiendan el uso de
<a href=https://pypi.python.org/pypi/zodbbrowser>zodbbrowser</a> (basado en Zope
3).</p>
<p>Para usar eye escriba:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ eye <span style=color:#f92672>(</span>suBDdeZODB<span style=color:#f92672>)</span>.fs
serving on http://127.0.0.1:8080
</code></pre></div><p>Visite la dirección <a href=http://127.0.0.1:8080/>http://127.0.0.1:8080/</a> y podrá detallar el
contenido de su base de datos:</p>
<p><img loading=lazy src=/images/zodb.png alt="eye, Visualzador de ZODB">
</p>
<h3 id=para-más-información>Para Más Información<a hidden class=anchor aria-hidden=true href=#para-más-información>#</a></h3>
<p>La documentación de ZODB en realidad es bastante simple, no tiene muchos
lugares oscuros por lo que una búsqueda en la web le podrá arrojar uno
que otro manual o tutorial adicional. Sin embargo con los siguientes
links podrá avanzar sin problemas:</p>
<ul>
<li><a href=http://www.zodb.org/>http://www.zodb.org/</a></li>
<li><a href=http://zodb.readthedocs.org/en/latest/index.html>http://zodb.readthedocs.org/en/latest/index.html</a></li>
<li><a href=http://es.slideshare.net/carlos.delaguardia/zodb-tips-and-tricks>http://es.slideshare.net/carlos.delaguardia/zodb-tips-and-tricks</a></li>
<li><a href=http://www.upfrontsystems.co.za/Members/roche/where-im-calling-from/zodb-benchmarks-revisited>http://www.upfrontsystems.co.za/Members/roche/where-im-calling-from/zodb-benchmarks-revisited</a></li>
</ul>
<p>El código fuente de este artículo se encuentra en
<a href=https://github.com/atmantree/post-introduccion-zodb>github</a>.</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=http://carlosgruiz-dev.github.io/tags/lab/>lab</a></li>
<li><a href=http://carlosgruiz-dev.github.io/tags/guides/>guides</a></li>
<li><a href=http://carlosgruiz-dev.github.io/tags/python/>python</a></li>
<li><a href=http://carlosgruiz-dev.github.io/tags/databases/>databases</a></li>
<li><a href=http://carlosgruiz-dev.github.io/tags/spanish/>spanish</a></li>
</ul>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=http://carlosgruiz-dev.github.io/>Carlos Gustavo Ruiz</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>